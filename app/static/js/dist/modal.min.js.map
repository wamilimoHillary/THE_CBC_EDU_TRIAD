{"version":3,"sources":["modal.js"],"names":["document","addEventListener","querySelectorAll","overlay","getElementById","addButtons","forEach","button","e","modalId","getAttribute","style","display","closest","modal","modals","teacherId","fetchTeacherDetails","fetch","concat","console","response","json","then","data","value","UserID","FirstName","LastName","Email","deleteButtons","Phone","HireDate","is_active","error","preventDefault","log","cancelButtons","editButtons","fetchStudentDetails","studentId","advancedFilters","textContent","StudentNumber","RegistrationDate","this"],"mappings":"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","file":"modal.min.js","sourcesContent":["// static/js/modal.js\r\ndocument.addEventListener('DOMContentLoaded', function () {\r\n    // Get all \"Add\" buttons\r\n    const addButtons = document.querySelectorAll('.btn-add');\r\n    const overlay = document.getElementById('overlay');\r\n\r\n    // Add event listeners to all \"Add\" buttons\r\n    addButtons.forEach(button => {\r\n        button.addEventListener('click', (e) => {\r\n            e.preventDefault();\r\n\r\n            // Get the modal ID from the button's data-modal attribute\r\n            const modalId = button.getAttribute('data-modal');\r\n            const modal = document.getElementById(modalId);\r\n\r\n            // Show the modal and overlay\r\n            if (modal) {\r\n                modal.style.display = 'block';\r\n                overlay.style.display = 'block';\r\n            }\r\n        });\r\n    });\r\n\r\n    // Close modal when the close button is clicked\r\n    const closeButtons = document.querySelectorAll('.close-modal');\r\n    closeButtons.forEach(button => {\r\n        button.addEventListener('click', () => {\r\n            const modal = button.closest('.modal');\r\n            if (modal) {\r\n                modal.style.display = 'none';\r\n                overlay.style.display = 'none';\r\n            }\r\n        });\r\n    });\r\n\r\n    // Close modal when the overlay is clicked\r\n    overlay.addEventListener('click', () => {\r\n        const modals = document.querySelectorAll('.modal');\r\n        modals.forEach(modal => {\r\n            modal.style.display = 'none';\r\n        });\r\n        overlay.style.display = 'none';\r\n    });\r\n});\r\n\r\n\r\n\r\ndocument.addEventListener('DOMContentLoaded', function () {\r\n    // Existing modal logic...\r\n\r\n    // Add event listeners for Edit buttons\r\n    const editButtons = document.querySelectorAll('.btn-edit');\r\n    editButtons.forEach(button => {\r\n        button.addEventListener('click', (e) => {\r\n            e.preventDefault();\r\n\r\n            const modalId = button.getAttribute('data-modal');\r\n            const modal = document.getElementById(modalId);\r\n\r\n            if (modal) {\r\n                const teacherId = button.getAttribute('data-teacher-id');\r\n                fetchTeacherDetails(teacherId, modal);\r\n                modal.style.display = 'block';\r\n                overlay.style.display = 'block';\r\n            }\r\n        });\r\n    });\r\n   \r\n\r\n\r\n    // Function to fetch teacher details for editing\r\n    function fetchTeacherDetails(teacherId, modal) {\r\n        fetch(`/admin/get_teacher/${teacherId}`)\r\n            .then(response => response.json())\r\n            .then(data => {\r\n                document.getElementById('edit-teacher-id').value = data.UserID;\r\n                document.getElementById('edit-first-name').value = data.FirstName;\r\n                document.getElementById('edit-last-name').value = data.LastName;\r\n                document.getElementById('edit-email').value = data.Email;\r\n                document.getElementById('edit-phone').value = data.Phone;\r\n                document.getElementById('edit-hire-date').value = data.HireDate;\r\n                document.getElementById('edit-is-active').value = data.is_active; // Set dropdown value\r\n            })\r\n            .catch(error => console.error('Error fetching teacher details:', error));\r\n    }\r\n});\r\n\r\n\r\ndocument.addEventListener('DOMContentLoaded', function () {\r\n    // Add event listeners for Delete buttons in the table\r\n    const deleteButtons = document.querySelectorAll('.btn-delete');\r\n    deleteButtons.forEach(button => {\r\n        button.addEventListener('click', (e) => {\r\n            e.preventDefault();\r\n\r\n            const modalId = button.getAttribute('data-modal');\r\n            console.log('Modal ID from button:', modalId); // Debugging\r\n            const modal = document.getElementById(modalId);\r\n\r\n            if (modal) {\r\n                const teacherId = button.getAttribute('data-teacher-id');\r\n                console.log('Delete button clicked. Teacher ID:', teacherId); // Debugging\r\n                document.getElementById('delete-teacher-id').value = teacherId; // Set teacher ID in hidden input\r\n                modal.style.display = 'block';\r\n                overlay.style.display = 'block';\r\n            } else {\r\n                console.error('Modal not found:', modalId); // Debugging\r\n            }\r\n        });\r\n    });\r\n\r\n    // Close modal when Cancel button is clicked\r\n    const cancelButtons = document.querySelectorAll('.btn-cancel');\r\n    cancelButtons.forEach(button => {\r\n        button.addEventListener('click', () => {\r\n            const modal = button.closest('.modal');\r\n            if (modal) {\r\n                modal.style.display = 'none';\r\n                overlay.style.display = 'none';\r\n            }\r\n        });\r\n    });\r\n});\r\n\r\n\r\ndocument.addEventListener('DOMContentLoaded', function () {\r\n    const overlay = document.getElementById('overlay');\r\n\r\n    // Add event listeners for Edit buttons\r\n    const editButtons = document.querySelectorAll('.btn-edit');\r\n    editButtons.forEach(button => {\r\n        button.addEventListener('click', (e) => {\r\n            e.preventDefault();\r\n\r\n            const modalId = button.getAttribute('data-modal');\r\n            const modal = document.getElementById(modalId);\r\n\r\n            if (modal) {\r\n                const studentId = button.getAttribute('data-student-id');\r\n                fetchStudentDetails(studentId, modal);\r\n                modal.style.display = 'block';\r\n                overlay.style.display = 'block';\r\n            }\r\n        });\r\n    });\r\n\r\n    // Add event listeners for Delete buttons\r\n    const deleteButtons = document.querySelectorAll('.btn-delete');\r\n    deleteButtons.forEach(button => {\r\n        button.addEventListener('click', (e) => {\r\n            e.preventDefault();\r\n\r\n            const modalId = button.getAttribute('data-modal');\r\n            const modal = document.getElementById(modalId);\r\n\r\n            if (modal) {\r\n                const studentId = button.getAttribute('data-student-id');\r\n                document.getElementById('delete-student-id').value = studentId;\r\n                modal.style.display = 'block';\r\n                overlay.style.display = 'block';\r\n            }\r\n        });\r\n    });\r\n\r\n    // Close modal when Cancel button is clicked\r\n    const cancelButtons = document.querySelectorAll('.btn-cancel');\r\n    cancelButtons.forEach(button => {\r\n        button.addEventListener('click', () => {\r\n            const modal = button.closest('.modal');\r\n            if (modal) {\r\n                modal.style.display = 'none';\r\n                overlay.style.display = 'none';\r\n            }\r\n        });\r\n    });\r\n\r\n    // Function to fetch student details for editing\r\n    function fetchStudentDetails(studentId, modal) {\r\n        fetch(`/admin/get_student/${studentId}`)\r\n            .then(response => response.json())\r\n            .then(data => {\r\n                if (data.error) {\r\n                    console.error(data.error);\r\n                    return;\r\n                }\r\n\r\n                // Populate the form fields with the fetched data\r\n                document.getElementById('edit-student-id').value = data.UserID;\r\n                document.getElementById('edit-first-name').value = data.FirstName;\r\n                document.getElementById('edit-last-name').value = data.LastName;\r\n                document.getElementById('edit-email').value = data.Email;\r\n                document.getElementById('edit-phone').value = data.Phone;\r\n                document.getElementById('edit-student-number').value = data.StudentNumber;\r\n                document.getElementById('edit-registration-date').value = data.RegistrationDate;\r\n                document.getElementById('edit-is-active').value = data.is_active; // Set dropdown value\r\n            })\r\n            .catch(error => console.error('Error fetching student details:', error));\r\n    }\r\n});\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n\r\n// JavaScript to toggle Advanced Filters\r\ndocument.getElementById('advanced-search-toggle').addEventListener('click', function () {\r\n    const advancedFilters = document.getElementById('advanced-filters');\r\n    if (advancedFilters.style.display === 'none') {\r\n        advancedFilters.style.display = 'flex';\r\n        this.textContent = 'Hide Advanced Filters';\r\n    } else {\r\n        advancedFilters.style.display = 'none';\r\n        this.textContent = 'Advanced Filters';\r\n    }\r\n});\r\n"]}