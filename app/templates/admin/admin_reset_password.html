{% extends "main/base.html" %}

{% block title %}Set New Password - CBC-EDU Triad{% endblock %}

{% block styles %}
<link rel="stylesheet" href="{{ url_for('static', filename='css/login.css') }}">
<link rel="stylesheet" href="{{ url_for('static', filename='css/colors.css') }}">
{% endblock %}

{% block content %}
<main class="admin_main">
    <div class="form-container">

        <!-- Display Flash Messages -->
        {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
            <div class="flash-messages">
                {% for category, message in messages %}
                    <div class="flash {{ category }}">{{ message }}</div>
                {% endfor %}
            </div>
        {% endif %}
        {% endwith %}


        <h2>Set New Password</h2>
        <form action="{{ url_for('auth.admin_reset_password', token=token) }}" method="post">
            <div class="input-group">
                <input type="password" name="password" id="password" placeholder=" " required>
                <label for="password">New Password</label>
            </div>
            <div class="input-group">
                <input type="password" name="confirm_password" id="confirm_password" placeholder=" " required>
                <label for="confirm_password">Confirm Password</label>
            </div>
            <button type="submit" class="form-button">Reset Password</button>
        </form>
        <div class="new-account">
            <a href="{{ url_for('auth.admin_login') }}">Back to Login</a>
        </div>
    </div>
</main>
{% endblock %}